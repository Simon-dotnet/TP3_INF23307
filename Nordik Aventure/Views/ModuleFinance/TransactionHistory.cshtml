@model List<Nordik_Aventure.Objects.Models.Finance.Transaction>
@{
    Layout = "_FinanceLayout";
}

<div class="container mt-4">
    <h1>Historique des transactions</h1>

    <table class="table table-hover table-bordered mt-4">
        <thead>
        <tr>
            <th>Date</th>
            <th>Description</th>
            <th>Montant ($)</th>
            <th>Type</th>
            <th>Reçu</th>
        </tr>
        </thead>

        <tbody>
        @if (!Model.Any())
        {
            <tr>
                <td colspan="5" class="text-center text-muted">Aucune transaction</td>
            </tr>
        }
        else
        {
            foreach (var tx in Model)
            {
                <tr>
                    <td>@tx.Date.ToString("dd/MM/yyyy HH:mm")</td>
                    <td>@(tx.Type == "sale" ? "Vente client" : "Commande fournisseur")</td>
                    <td>@tx.AmountTotal.ToString("N2") $</td>
                    <td>@tx.Type</td>
                    <td>
                        <a class="btn btn-sm btn-primary"
                           href="/finance/receipt/@tx.TransactionId" style="background-color: var(--background-button); color: var(--text-white);">
                            Voir reçu
                        </a>
                    </td>
                </tr>
            }
        }
        </tbody>
    </table>

    <a class="btn btn-secondary mt-3" href="/finance">Retour au tableau de bord</a>
</div>